<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>SecuritySettings</title>
</head>
<body>
<div class="main">

    <a th:href="@{/profile}" class="button">Back</a>

    <div style="text-align:center;">
        <h1>Security Settings</h1>
    </div>

    <p th:text="${response}"></p>
    <br>

    <form th:action="@{/securitySettings}" method="post">

        <div>
            <h2> Change Password </h2>
            <div class ="row">
                <label>
                    <input type="password" placeholder="Old password" th:name="oldPassword" minlength="8" maxlength="64" required class="required" />
                </label>
            </div>
            <div class="row">
                <label>
                    <input id="newPassword" type="password" placeholder="New password" th:name="newPassword" minlength="8" maxlength="64" required class="required" />
                </label>
            </div>
            <div>
                <label>
                    <input id="confirmPassword" type="password" placeholder="Confirm password" th:name="confirmPassword " minlength="8" maxlength="64" requiredclass="required" />
                </label>
            </div>
            <input class="button" type="submit" value="Submit" />
        </div>
    </form>
</div>

</body>
</html>

<script>
    const password = document.getElementById("newPassword")
        , confirm_password = document.getElementById("confirmPassword");
    function validatePassword(){
        if(password.value != confirm_password.value) {
            confirm_password.setCustomValidity("Passwords Don't Match");
        } else {
            confirm_password.setCustomValidity('');
        }
    }
    password.onchange = validatePassword;
    confirm_password.onkeyup = validatePassword;
</script>


<style>

    html, body {
        height: 100%;
    }

    html {
        display: table;
        margin: auto;
    }

    body {
        display: table-cell;
        vertical-align: middle;
        font-family: "Calibri Light";
    }

    div {
        padding: 20px;
    }

    input, textarea {
        margin-left: 10px;
        margin-bottom: 5px;
        outline-color: white;
    }

    label.helper{
        margin-left: 10px;
        font-style: italic;
        font-weight: normal;
        color: #c8c8c8;
    }

    /* Selects any valid <input> */
    input:valid, textarea {
        border: none;
        border-bottom: 2px solid lightgray;
    }

    input.readonly{
        border: none;
        border-bottom: 2px solid lightgray;
        font-colour: #c8c8c8;
    }

    input.required:valid {
        outline-color: green;
    }

    /* Selects any invalid <input> */
    input:invalid {
        background-color: #fff5f5;
        border: none;
        border-bottom: 2px solid red;
    }

    input.button {
        padding: 3px 10px 3px 10px;
        margin-left: 0px;
    }

    button {
        padding: 3px 10px 3px 10px;
        margin-right: 5px;
        margin-left: 20px;
    }

    h1 {
        margin-top: -40px;
    }

    h2 {
        margin-bottom: 0px;
    }

    h4 {
        color: #333333;
        font-size: small;
        margin-bottom: 0;
    }

    h6 {
        color: #444444;
        font-size: smaller;
        margin-top: 0;
        margin-bottom: 0;
    }

    p {
        margin-left: 10px;
        color: red;
        margin-top: 20px;
        margin-bottom: -20px;
    }

    a.button {
        font-size: medium;
        text-decoration: none;
        background-color: #EEEEEE;
        color: #333333;
        padding: 4px 10px 4px 10px;
        border-bottom: 1px solid lightgray;
        border-radius: 3px;
    }

</style>