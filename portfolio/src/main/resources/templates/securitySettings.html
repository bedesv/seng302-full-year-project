<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>SecuritySettings</title>
</head>
<body>
<div class="main">
    <a th:href="@{/profile}" class="button">Back</a>

    <div style="text-align: center;">
        <h1>Security Settings</h1>
    </div>

    <form th:action="@{/securitySettings}" method="post">

        <div>
            <h2> Change Password </h2>
            <div class ="row">
                <label>
                    <input type="password" placeholder="Old password" th:name="oldPassword" minlength="8" maxlength="64" required class="required" />
                </label>
            </div>
            <div class="row">
                <label>
                    <input id="newPassword" type="password" placeholder="New password" th:name="newPassword"minlength="8" maxlength="64" required class="required" />
                </label>
            </div>
            <div>
                <label>
                    <input id="confirmPassword" type="password" placeholder="Confirm password" th:name="confirmPassword "minlength="8" maxlength="64" requiredclass="required" />
                </label>
            </div>
            <input class="button" type="submit" value="Submit" />
        </div>
    </form>
</div>

</body>
</html>

<script>
    const password = document.getElementById("newPassword")
        , confirm_password = document.getElementById("confirmPassword");
    function validatePassword(){
        if(password.value != confirm_password.value) {
            confirm_password.setCustomValidity("Passwords Don't Match");
        } else {
            confirm_password.setCustomValidity('');
        }
    }
    password.onchange = validatePassword;
    confirm_password.onkeyup = validatePassword;
</script>


<style>

    html, body {
        height: 100%;
    }

    html {
        display: table;
        margin: auto;
    }

    body {
        display: table-cell;
        vertical-align: middle;
        font-family: "Calibri Light";
    }

    div {
        padding: 20px;
    }


    input.required:valid {
        outline-color: green;
    }

    /* Selects any invalid <input> */
    input:invalid {
        background-color: #fff5f5;
        border: none;
        border-bottom: 2px solid red;
    }

    input.button {
        padding: 4px 10px 4px 10px;
        margin-left: 0;
        border: 1px solid #16a085
    }

</style>